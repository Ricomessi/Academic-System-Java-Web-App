<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Admin.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;AAA111&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">pojo</a> &gt; <span class="el_source">Admin.java</span></div><h1>Admin.java</h1><pre class="source lang-java linenums">package pojo;

import static com.sun.faces.facelets.util.Path.context;
import dao.DAOAdmin;
import java.util.List;
import javax.faces.application.FacesMessage;
import javax.faces.bean.ManagedBean;
import javax.faces.application.FacesMessage;
import javax.faces.context.FacesContext;

/**
 * Admin generated by hbm2java
 */
@ManagedBean
public class Admin implements java.io.Serializable {

    private Integer idAdmin;
    private String nama;
    private String email;
    private String password;
    private Admin loggedInAdmin;
    private String nameMessage;
    private String selectedMenu;

<span class="fc" id="L25">    public Admin() {</span>
<span class="fc" id="L26">    }</span>

<span class="nc" id="L28">    public Admin(String nama, String email, String password) {</span>
<span class="nc" id="L29">        this.nama = nama;</span>
<span class="nc" id="L30">        this.email = email;</span>
<span class="nc" id="L31">        this.password = password;</span>
<span class="nc" id="L32">    }</span>
    
    public String getSelectedMenu() {
<span class="nc" id="L35">        return selectedMenu;</span>
    }

    public void setSelectedMenu(String selectedMenu) {
<span class="nc" id="L39">        this.selectedMenu = selectedMenu;</span>
<span class="nc" id="L40">    }</span>


    public Integer getIdAdmin() {
<span class="fc" id="L44">        return this.idAdmin;</span>
    }

    public void setIdAdmin(Integer idAdmin) {
<span class="fc" id="L48">        this.idAdmin = idAdmin;</span>
<span class="fc" id="L49">    }</span>

    public String getNama() {
<span class="fc" id="L52">        return this.nama;</span>
    }

    public void setNama(String nama) {
<span class="fc" id="L56">        this.nama = nama;</span>
<span class="fc" id="L57">    }</span>

    public String getEmail() {
<span class="fc" id="L60">        return this.email;</span>
    }

    public void setEmail(String email) {
<span class="fc" id="L64">        this.email = email;</span>
<span class="fc" id="L65">    }</span>

    public String getPassword() {
<span class="fc" id="L68">        return this.password;</span>
    }

    public void setPassword(String password) {
<span class="fc" id="L72">        this.password = password;</span>
<span class="fc" id="L73">    }</span>

    public Admin getLoggedInAdmin() {
<span class="nc" id="L76">        return loggedInAdmin;</span>
    }

    public void setLoggedInAdmin(Admin loggedInAdmin) {
<span class="nc" id="L80">        this.loggedInAdmin = loggedInAdmin;</span>
<span class="nc" id="L81">    }</span>

    public String getNameMessage() {
<span class="nc" id="L84">        return nameMessage;</span>
    }

    public void setNameMessage(String nameMessage) {
<span class="nc" id="L88">        this.nameMessage = nameMessage;</span>
<span class="nc" id="L89">    }</span>
 

    public String login() {
<span class="nc" id="L93">    FacesContext context = FacesContext.getCurrentInstance();</span>

    try {
<span class="nc" id="L96">        DAOAdmin adao = new DAOAdmin();</span>
<span class="nc" id="L97">        List&lt;Admin&gt; admins = adao.login(email, password);</span>

<span class="nc bnc" id="L99" title="All 4 branches missed.">        if (admins != null &amp;&amp; !admins.isEmpty()) {</span>
<span class="nc" id="L100">            Admin admin = admins.get(0);</span>
<span class="nc" id="L101">            email = admin.getEmail(); // Ganti prod dengan admin sesuai kelas entitas yang benar</span>
<span class="nc" id="L102">            password = admin.getPassword(); // Ganti prod dengan admin sesuai kelas entitas yang benar</span>

<span class="nc" id="L104">            context.getExternalContext().getSessionMap().put(&quot;email&quot;, email); // Perbaiki &quot;emai;&quot; menjadi &quot;email&quot;</span>
<span class="nc" id="L105">            return &quot;loginsuccess&quot;;</span>
        } else {
<span class="nc" id="L107">            context.addMessage(null, new FacesMessage(&quot;Login failed. Please check your email and password.&quot;));</span>
<span class="nc" id="L108">            return null; // Redirect to the login error page</span>
        }
<span class="nc" id="L110">    } catch (Exception e) {</span>
<span class="nc" id="L111">        e.printStackTrace(); // Cetak kesalahan untuk debug</span>
<span class="nc" id="L112">        context.addMessage(null, new FacesMessage(&quot;An error occurred during login.&quot;));</span>
<span class="nc" id="L113">        return null; // Redirect to the login error page</span>
    }
}



    public void validateName() {
<span class="nc bnc" id="L120" title="All 4 branches missed.">        if (nama != null &amp;&amp; !nama.matches(&quot;^[A-Za-z ]+$&quot;)) {</span>
<span class="nc" id="L121">            nameMessage = &quot;Nama hanya boleh mengandung huruf dan spasi.&quot;;</span>
        } else {
<span class="nc" id="L123">            nameMessage = &quot;&quot;;</span>
        }
<span class="nc" id="L125">    }</span>

    public String logout() {
<span class="nc" id="L128">        FacesContext.getCurrentInstance().getExternalContext().invalidateSession();</span>
<span class="nc" id="L129">        return &quot;index&quot;;</span>
    }
    
   public String createLS() {
<span class="nc" id="L133">        return &quot;cls&quot;;</span>
    }
    
    public String deleteLS() {
<span class="nc" id="L137">        return &quot;dls&quot;;</span>
    }
    
    public String searchLS() {
<span class="nc" id="L141">        return &quot;sels&quot;;</span>
    }
    
    public String showLS() {
<span class="nc" id="L145">        return &quot;shls&quot;;</span>
    }
    
    public String updateLS() {
<span class="nc" id="L149">        return &quot;uls&quot;;</span>
    }
    
    public String createSS() {
<span class="nc" id="L153">        return &quot;css&quot;;</span>
    }
    
    public String deleteSS() {
<span class="nc" id="L157">        return &quot;dss&quot;;</span>
    }
    
    public String searchSS() {
<span class="nc" id="L161">        return &quot;sess&quot;;</span>
    }
    
    public String showSS() {
<span class="nc" id="L165">        return &quot;shss&quot;;</span>
    }
    
    public String updateSS() {
<span class="nc" id="L169">        return &quot;uss&quot;;</span>
    }
    
    public String createCourse() {
<span class="nc" id="L173">        return &quot;cc&quot;;</span>
    }
    
    public String deleteCourse() {
<span class="nc" id="L177">        return &quot;dc&quot;;</span>
    }
    
    public String searchCourse() {
<span class="nc" id="L181">        return &quot;sec&quot;;</span>
    }
    
    public String showCourse() {
<span class="nc" id="L185">        return &quot;shc&quot;;</span>
    }
    
    public String updateCourse() {
<span class="nc" id="L189">        return &quot;uc&quot;;</span>
    }
    
    public String createLecturer() {
<span class="nc" id="L193">        return &quot;cl&quot;;</span>
    }
    
    public String deleteLecturer() {
<span class="nc" id="L197">        return &quot;dl&quot;;</span>
    }
    
    public String searchLecturer() {
<span class="nc" id="L201">        return &quot;sel&quot;;</span>
    }
    
    public String showLecturer() {
<span class="nc" id="L205">        return &quot;success&quot;;</span>
    }
    
    public String updateLecturer() {
<span class="nc" id="L209">        return &quot;ul&quot;;</span>
    }
    
    public String createSchedule() {
<span class="nc" id="L213">        return &quot;csc&quot;;</span>
    }
    
    public String deleteSchedule() {
<span class="nc" id="L217">        return &quot;dsc&quot;;</span>
    }
    
    public String searchSchedule() {
<span class="nc" id="L221">        return &quot;sesc&quot;;</span>
    }
    
    public String showSchedule() {
<span class="nc" id="L225">        return &quot;shsc&quot;;</span>
    }
    
    public String updateSchedule() {
<span class="nc" id="L229">        return &quot;usc&quot;;</span>
    }
    
    public String createStudent() {
<span class="nc" id="L233">        return &quot;cs&quot;;</span>
    }
    
    public String deleteStudent() {
<span class="nc" id="L237">        return &quot;ds&quot;;</span>
    }
    
    public String searchStudent() {
<span class="nc" id="L241">        return &quot;ses&quot;;</span>
    }
    
    public String showStudent() {
<span class="nc" id="L245">        return &quot;shs&quot;;</span>
    }
    
    public String updateStudent() {
<span class="nc" id="L249">        return &quot;us&quot;;</span>
    }
    
    public String createSubject() {
<span class="nc" id="L253">        return &quot;csb&quot;;</span>
    }
    
    public String deleteSubject() {
<span class="nc" id="L257">        return &quot;dsb&quot;;</span>
    }
    
    public String searchSubject() {
<span class="nc" id="L261">        return &quot;sesb&quot;;</span>
    }
    
    public String showSubject() {
<span class="nc" id="L265">        return &quot;shsb&quot;;</span>
    }
    
    public String updateSubject() {
<span class="nc" id="L269">        return &quot;usb&quot;;</span>
    }
    
    public String navigateToAllLogin() {
<span class="nc" id="L273">    return &quot;allLoginRedirect&quot;;</span>
}
    
    public String alogin() {
<span class="nc" id="L277">        return &quot;al&quot;;</span>
    }
    
    public String slogin() {
<span class="nc" id="L281">        return &quot;sl&quot;;</span>
    }
    
    public String sregister() {
<span class="nc" id="L285">        return &quot;sr&quot;;</span>
    }
    
    public String llogin() {
<span class="nc" id="L289">        return &quot;ll&quot;;</span>
    }
    
    public String lregister() {
<span class="nc" id="L293">        return &quot;lr&quot;;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>